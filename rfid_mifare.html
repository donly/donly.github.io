<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>    RC522 å°„é¢‘ IC æ„Ÿåº”æ¨¡å—
</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
            <link rel="stylesheet" href="https://magicalboy.com/theme/css/normalize.css">
        <link href='//fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://magicalboy.com/theme/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://magicalboy.com/theme/css/main.css">

    <link rel="stylesheet" href="https://magicalboy.com/theme/css/blog.css">
    <link rel="stylesheet" href="https://magicalboy.com/theme/css/github.css">
        <link href="https://magicalboy.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="MAG's Note Atom Feed" />
        <script src="https://magicalboy.com/theme/js/vendor/modernizr-2.6.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div id="wrapper">
<header id="sidebar" class="side-shadow">
    <hgroup id="site-header">
        <a id="site-title" href="https://magicalboy.com"><h1><i class="icon-mobile-phone"></i> Tung</h1></a>
        <p id="site-desc"> iOS/macOS/IoT/Web/Game </p>
    </hgroup>
    <nav>
        <ul id="nav-links">
                <li><a href="https://magicalboy.com/pages/about.html">About</a></li>
                <li><a href="https://magicalboy.com/pages/site-log.html">Logs</a></li>
        </ul>
    </nav>
	<nav>
      <!-- <ul>
          <li><a target="_blank" href="https://magicalboy.com">MAGICALBOY</a></li>
          <li><a href="https://github.com/donly">icon-github</a></li>
          <li><a href="https://twitter.com/donlychan">icon-twitter</a></li>
          <li><a href="atom.xml">icon-rss</a></li>
      </ul> -->
      <ul id="nav-services" class="centered-nav">
              <li><a href="https://github.com/donly" target="_brank"><i class="icon-github svc-badge"></i></a></li>
              <li><a href="https://twitter.com/donlychan" target="_brank"><i class="icon-twitter svc-badge"></i></a></li>
              <li><a href="atom.xml" target="_brank"><i class="icon-rss svc-badge"></i></a></li>
      </ul>
	</nav>
</header>
    <div id="post-container">
        <ol id="post-list">
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <a href="https://magicalboy.com/rfid_mifare.html" rel="bookmark"><h1>RC522 å°„é¢‘ IC æ„Ÿåº”æ¨¡å—</h1></a>
                        <time class="post-time" datetime="2022-05-13T15:30:00+08:00" pubdate>
                            Published: 2022-05-13
                        </time>
                    </header>

                    <section class="post-content">
                        <p>RC522 RFID è¯»å†™æ¨¡å—æ˜¯ä¸€ä¸ªæ™®éçš„ã€é€‚åˆå…¥é—¨çš„é€‰æ‹©ã€‚è¿™é‡Œä¼šç®€å•åœ°ä»‹ç»æ¨¡å—çš„ç‰¹ç‚¹ï¼Œå’Œ Arduino Uno è¿æ¥ä½¿ç”¨ï¼Œå¤åˆ¶å…¬å¸çš„é—¨ç¦å¡è´´åˆ°æ‰‹æœºå£³ä¸Šæ–¹ä¾¿ä½¿ç”¨ï¼Œé¿å…äº†ç»å¸¸å¿˜å¸¦å¡çš„å°´å°¬ã€‚</p>
<p><img alt="RC522" src="images/arduino/RC522.jpg"></p>
<p>æ³¨æ„è¿™ä¸ªæ¨¡å—çš„ç‰ˆæœ¬å·ï¼Œä¸­å›½ç‰ˆçš„æ¨¡å—å¯èƒ½æœ‰åŠŸèƒ½ç¼ºå¤±æˆ–ä½¿ç”¨ä¸æ­£å¸¸çš„é—®é¢˜ï¼Œè¯¦è§ï¼šhttps://github.com/miguelbalboa/rfid/wiki/Chinese_RFID-RC522ã€‚æˆ‘è´­ä¹°çš„è¿™å—å›ºä»¶ç‰ˆæœ¬å·æ˜¯ v2.0ï¼Œä½¿ç”¨ MFRC522 åº“å¯ä»¥æ£€æµ‹ï¼š<code>Firmware Version: 0x92 = v2.0</code> ã€‚</p>
<h2>ç›¸å…³æœ¯è¯­ä»‹ç»</h2>
<ul>
<li>
<p><code>RFID</code>: å°„é¢‘è¯†åˆ«ï¼ˆè‹±è¯­ï¼šRadio Frequency IDentificationï¼‰æ˜¯ä¸€ç§æ— çº¿é€šä¿¡æŠ€æœ¯ã€‚</p>
</li>
<li>
<p><code>MIFARE</code>: æ˜¯æ©æ™ºæµ¦åŠå¯¼ä½“å…¬å¸ï¼ˆNXP Semiconductorsï¼‰æ‹¥æœ‰çš„ä¸€ç³»åˆ—éæ¥è§¦å¼æ™ºèƒ½å¡å’Œè¿‘å‚å‹å¡æŠ€æœ¯çš„æ³¨å†Œå•†æ ‡ã€‚MIFAREåŒ…æ‹¬ä¸€ç³»åˆ—ä¾å¾ªISO/IEC 14443-Aè§„æ ¼ï¼Œåˆ©ç”¨æ— çº¿å°„é¢‘è¯†åˆ«ï¼ˆé¢‘ç‡ä¸º13.56MHzï¼‰çš„å¤šç§éæ¥è§¦å¼æ™ºèƒ½å¡ä¸“æœ‰è§£å†³æ–¹æ¡ˆã€‚</p>
</li>
<li>
<p><code>UID</code>ï¼šå”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆUnique Identifierï¼‰</p>
</li>
<li><code>RID</code>ï¼šå®‰å…¨éšæœºæ ‡è¯†ç¬¦ï¼ˆRandom Security Identifierï¼‰</li>
<li><code>PICC</code>: Proximity Integrated Circuit (â€œContactlessÂ Cardâ€)ï¼Œæ„Ÿåº”é›†æˆç”µè·¯ï¼ˆâ€œéæ¥è§¦å¼å¡â€ï¼‰</li>
<li><code>SAK</code>: Select Acknowledge, Type A </li>
</ul>
<h2>ä¸»è¦ç‰¹ç‚¹</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Frequency Range</td>
<td>13.56 MHz ISM Band</td>
</tr>
<tr>
<td>Host Interface</td>
<td>SPI / I2C / UART</td>
</tr>
<tr>
<td>Operating Supply Voltage</td>
<td>2.5 V to 3.3 V</td>
</tr>
<tr>
<td>Max. Operating Current</td>
<td>13-26mA</td>
</tr>
<tr>
<td>Standby current</td>
<td>10-13mA</td>
</tr>
<tr>
<td>Min. Current(Power down)</td>
<td>10ÂµA</td>
</tr>
<tr>
<td>Logic Inputs</td>
<td>5V Tolerant</td>
</tr>
<tr>
<td>Read Range</td>
<td>0~60mm</td>
</tr>
<tr>
<td>Programmer timer</td>
<td></td>
</tr>
<tr>
<td>Internal self-test</td>
<td></td>
</tr>
<tr>
<td>FIFO buffer</td>
<td></td>
</tr>
<tr>
<td>Highly integrated analog circuitry</td>
<td></td>
</tr>
<tr>
<td>CRC co-processor</td>
<td></td>
</tr>
</tbody>
</table>
<h2>Pinout</h2>
<p><img alt="RC522 Pinout" src="images/arduino/RC522_pinout.png"></p>
<ul>
<li>
<p>VCCÂ supplies power for the module. This can be anywhere from 2.5 to 3.3 volts. You can connect it to 3.3V output from your Arduino. Remember connecting it to 5V pin will likely destroy your module!</p>
</li>
<li>
<p>RSTÂ is an input for Reset and power-down. When this pin goes low, hard power-down is enabled. This turns off all internal current sinks including the oscillator and the input pins are disconnected from the outside world. On the rising edge, the module is reset.</p>
</li>
<li>
<p>GNDÂ is the Ground Pin and needs to be connected to GND pin on the Arduino.</p>
</li>
<li>
<p>IRQÂ is an interrupt pin that can alert the microcontroller when RFID tag comes into its vicinity.</p>
</li>
<li>
<p>MISO / SCL / TxÂ pin acts as Master-In-Slave-Out when SPI interface is enabled, acts as serial clock when I2C interface is enabled and acts as serial data output when UART interface is enabled.</p>
</li>
<li>
<p>MOSI (Master Out Slave In)Â is SPI input to the RC522 module.</p>
</li>
<li>
<p>SCK (Serial Clock)Â accepts clock pulses provided by the SPI bus Master i.e. Arduino.</p>
</li>
<li>
<p>SS / SDA / RxÂ pin acts as Signal input when SPI interface is enabled, acts as serial data when I2C interface is enabled and acts as serial data input when UART interface is enabled. This pin is usually marked by encasing the pin in a square so it can be used as a reference for identifying the other pins.</p>
</li>
</ul>
<h2>æ¥çº¿</h2>
<p><img alt="RC522 Connection" src="images/arduino/rc522_arduino_connection.png"></p>
<div class="highlight"><pre><span></span><code><span class="n">RC522</span> <span class="o">-</span>  <span class="n">Arduino</span>
<span class="n">MISO</span> <span class="o">&lt;-&gt;</span> <span class="n">D12</span>
<span class="n">RST</span>  <span class="o">&lt;-&gt;</span> <span class="n">D9</span>
<span class="n">MOSI</span> <span class="o">&lt;-&gt;</span> <span class="n">D11</span>
<span class="n">SCK</span>  <span class="o">&lt;-&gt;</span> <span class="n">D13</span>
<span class="n">IRQ</span>  <span class="o">&lt;-&gt;</span> <span class="n">Not</span> <span class="n">connected</span>
<span class="n">SDA</span>  <span class="o">&lt;-&gt;</span> <span class="n">D10</span>
<span class="n">GND</span>  <span class="o">&lt;-&gt;</span> <span class="n">GND</span>
<span class="m">3.3</span><span class="n">V</span> <span class="o">&lt;-&gt;</span> <span class="m">3.3</span><span class="n">V</span>
</code></pre></div>

<p>å›¾ä¸­çš„ OLED å±æ¨¡å—æ²¡æœ‰ç”¨åˆ°å¯ä»¥å¿½ç•¥ã€‚</p>
<h2>å®‰è£… Arduino MFRC522 åº“</h2>
<p>ç›´æ¥æ‰“å¼€ Arduino è½¯ä»¶åœ¨åº“ä¸­æœç´¢ RC522ï¼Œå®‰è£…è¿™ä¸ªåº“ https://github.com/miguelbalboa/rfidã€‚</p>
<p><img alt="RC522 Library" src="images/arduino/nfrc522_lib.png"></p>
<h2>æ‰“å¼€åº“è‡ªå¸¦ä¾‹ç¨‹</h2>
<p>å…ˆæ‰“å¼€ <code>DumpInfo</code> é¡¹ç›®è¯»å–å…¬å¸é—¨ç¦å¡çš„ UIDï¼Œè¯»åˆ°çš„æ•°æ®å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code>Card UID: 8C 1A B9 1F
Card SAK: <span class="m">08</span>
PICC type: MIFARE 1KB
...
</code></pre></div>

<p>å†æ‰“å¼€ <code>ChangeUID</code> Example é¡¹ç›®ï¼Œä¿®æ”¹è¿™ä¸€è¡Œä»£ç ä¸ºè‡ªå·±è¦æ”¹çš„æ–° UIDï¼š</p>
<div class="highlight"><pre><span></span><code><span class="cm">/* Set your new UID here! */</span><span class="w"></span>
<span class="k">constexpr</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">newUid</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mh">0x8C</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1A</span><span class="p">,</span><span class="w"> </span><span class="mh">0xB9</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1F</span><span class="p">};</span><span class="w"></span>
</code></pre></div>

<p>ç¼–è¯‘ä¸Šä¼ åˆ° Arduino Unoã€‚</p>
<h2>å¤åˆ¶åˆ°æ–°å¡è´´</h2>
<p>ç›´æ¥å°†æ–°å¡è´´æ”¾åˆ°æ„Ÿåº”åŒºä¸Šå®Œæˆ UID çš„ä¿®æ”¹ã€‚
æ³¨æ„ï¼š<strong>å¿…é¡»è´­ä¹°å¯ä»¥ä¿®æ”¹ 0 æ‰‡åŒºçš„ UID å¡è´´</strong>ï¼Œå¦åˆ™ä¼šä¿®æ”¹å¤±è´¥ï¼Œç›¸å½“äºä»€ä¹ˆä¹Ÿæ²¡å‘ç”Ÿã€‚</p>
<p>è´´åˆ°æ‰‹æœºå£³åèƒŒä¸Šçš„æ•ˆæœï¼š
<img alt="æ‰‹æœºå¡è´´" src="../images/arduino/ic_card_on_phone_case.png"></p>
<p>å»ºè®®è´´åˆ°æ‰‹æœºåº•éƒ¨ï¼Œå› ä¸ºä¸Šé¢æ˜¯æ‰‹æœºçš„NFCæ„Ÿåº”åŒºï¼Œåœ¨åˆ·å¡æ—¶ä¼šå‘ç”Ÿå†²çªï¼ˆğŸ˜¢ï¼‰ã€‚</p>
<h2>å…¶å®ƒå‚è€ƒ</h2>
<ul>
<li>https://lastminuteengineers.com/how-rfid-works-rc522-arduino-tutorial/</li>
<li>https://zh.wikipedia.org/wiki/MIFARE</li>
<li>https://www.nxp.com/docs/en/data-sheet/MF1S50YYX_V1.pdf</li>
<li>https://fanzheng.org/archives/30</li>
</ul>
                    </section>
                    <hr/>
                    <aside class="post-meta">
                        <p>Category: <a href="https://magicalboy.com/category/misc.html">misc</a></p>
                        <p>Tags: <a href="https://magicalboy.com/tag/arduino.html">arduino</a>, <a href="https://magicalboy.com/tag/rfid.html">rfid</a>, <a href="https://magicalboy.com/tag/mifare.html">mifare</a>, </p>
                        <p>Copyright: <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh/">è‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²åï¼ˆåˆ›æ„å…±äº«3.0è®¸å¯è¯ï¼‰</a></p>
                    </aside>
                    <hr/>
<div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'magsnote';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
                </article>
            </li>
        </ol>
    </div>
        </div>
<footer id="site-info">
    <p>
        Proudly powered by <a href="http://getpelican.com/" target="pelican">Pelican</a> and <a href="http://python.org/" target="python">Python</a>. Theme base on <a href="https://github.com/hdra/pelican-cait" target="github">hndr</a>.
    </p>
    <p>
        Textures by <a href="http://subtlepatterns.com/" target="subtlepatterns">Subtle Pattern</a>. Font Awesome by <a href="http://fortawesome.github.io/Font-Awesome/" target="github">Dave Grandy</a>.
    </p>
</footer>        <script src="https://magicalboy.com/theme/js/main.js"></script>
    </body>
</html>