<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>    UIImage 使用
</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
            <link rel="stylesheet" href="/theme/css/normalize.css">
        <link href='//fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/theme/css/font-awesome.min.css">
        <link rel="stylesheet" href="/theme/css/main.css">

    <link rel="stylesheet" href="/theme/css/blog.css">
    <link rel="stylesheet" href="/theme/css/github.css">
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="MAG's Note Atom Feed" />
        <script src="/theme/js/vendor/modernizr-2.6.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div id="wrapper">
<header id="sidebar" class="side-shadow">
    <hgroup id="site-header">
        <a id="site-title" href=""><h1><i class="icon-mobile-phone"></i> Don</h1></a>
        <p id="site-desc"> 关注移动应用开发 </p>
    </hgroup>
    <nav>
        <ul id="nav-links">
        </ul>
    </nav>
	<nav>
      <!-- <ul>
          <li><a target="_blank" href="https://magicalboy.com">MAGICALBOY</a></li>
          <li><a href="https://plus.google.com/u/0/108274467552316757908">icon-google-plus-sign</a></li>
          <li><a href="https://github.com/donly">icon-github</a></li>
          <li><a href="mailto:donly@magicalboy.com">icon-envelope-alt</a></li>
          <li><a href="atom.xml">icon-rss</a></li>
      </ul> -->
      <ul id="nav-services" class="centered-nav">
              <li><a href="https://plus.google.com/u/0/108274467552316757908" target="_brank"><i class="icon-google-plus-sign svc-badge"></i></a></li>
              <li><a href="https://github.com/donly" target="_brank"><i class="icon-github svc-badge"></i></a></li>
              <li><a href="mailto:donly@magicalboy.com" target="_brank"><i class="icon-envelope-alt svc-badge"></i></a></li>
              <li><a href="atom.xml" target="_brank"><i class="icon-rss svc-badge"></i></a></li>
      </ul>
	</nav>
</header>
    <div id="post-container">
        <ol id="post-list">
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2017-11-23T15:54:43+08:00" pubdate>
                            四, 23 11 2017
                        </time>
                        <a href="/uiimage.html" rel="bookmark"><h1>UIImage 使用</h1></a>
                    </header>

                    <section class="post-content">
                        <p><a class="reference external" href="http://developer.apple.com/library/ios/#documentation/uikit/reference/UIImage_Class/Reference/Reference.html">UIImage Class Reference</a></p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<tbody valign="top">
<tr><td>Inherits from</td>
<td>NSObject</td>
</tr>
<tr><td>Framework</td>
<td>/System/Library/Frameworks/UIKit.framework</td>
</tr>
<tr><td>Availability</td>
<td>Available in iOS 2.0 and later.</td>
</tr>
</tbody>
</table>
<div class="section" id="stretch">
<h2>Stretch</h2>
<p>将</p>
<img alt="" src="http://i.stack.imgur.com/IPNUm.png" />
<p>拉伸为</p>
<img alt="" src="http://i.stack.imgur.com/1skMj.png" />
<p>代码：</p>
<div class="highlight"><pre><span></span><span class="bp">UIImage</span> <span class="o">*</span><span class="n">originalImage</span> <span class="o">=</span> <span class="p">[</span><span class="bp">UIImage</span> <span class="nl">imageNamed</span><span class="p">:</span><span class="s">@&quot;myImage.png&quot;</span><span class="p">];</span>
<span class="bp">UIImage</span> <span class="o">*</span><span class="n">newImage</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>

<span class="k">if</span> <span class="p">([</span><span class="n">originalImage</span> <span class="nl">respondsToSelector</span><span class="p">:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">resizableImageWithCapInsets</span><span class="p">:)])</span> <span class="p">{</span>
    <span class="c1">// iOS 5 and obove.</span>
    <span class="n">newImage</span> <span class="o">=</span> <span class="p">[</span><span class="n">originalImage</span> <span class="nl">resizableImageWithCapInsets</span><span class="p">:(</span><span class="bp">UIEdgeInsets</span><span class="p">){</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">}]</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="n">newImage</span> <span class="o">=</span> <span class="p">[</span><span class="n">originalImage</span> <span class="nl">stretchableImageWithLeftCapWidth</span><span class="p">:</span><span class="mi">5</span> <span class="nl">topCapHeight</span><span class="p">:</span><span class="mi">15</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
<p>A stretchable image is divided into 9 parts, if both leftCapWidth and topCapHeight are nonzero.</p>
<div class="highlight"><pre><span></span><span class="n">leftCapWidth</span>
<span class="o">&lt;-----&gt;</span>
<span class="o">+--------------+</span> <span class="o">^</span>
<span class="o">|</span>     <span class="o">|</span> <span class="o">|</span>      <span class="o">|</span> <span class="o">|</span>
<span class="o">|</span>  <span class="n">A</span>  <span class="o">|</span> <span class="o">|</span>  <span class="n">B</span>   <span class="o">|</span> <span class="o">|</span> <span class="n">topCapHeight</span>
<span class="o">|-----+</span><span class="err">·</span><span class="o">+------|</span> <span class="n">v</span>
<span class="o">|-----+</span><span class="err">·</span><span class="o">+------|</span>
<span class="o">|</span>  <span class="n">C</span>  <span class="o">|</span> <span class="o">|</span>  <span class="n">D</span>   <span class="o">|</span>
<span class="o">|</span>     <span class="o">|</span> <span class="o">|</span>      <span class="o">|</span>
<span class="o">+--------------+</span>
</pre></div>
<p>The central parts are always 1 px in size, and this is the part that is stretched, for example:</p>
<div class="highlight"><pre><span></span><span class="n">leftCapWidth</span> <span class="p">(</span><span class="n">constant</span><span class="o">!</span><span class="p">)</span>
  <span class="o">&lt;-----&gt;</span>
  <span class="o">+------------------+</span> <span class="o">^</span>
  <span class="o">|</span>     <span class="o">|</span>     <span class="o">|</span>      <span class="o">|</span> <span class="o">|</span>
  <span class="o">|</span>  <span class="n">A</span>  <span class="o">|</span>     <span class="o">|</span>  <span class="n">B</span>   <span class="o">|</span> <span class="o">|</span> <span class="n">topCapHeight</span> <span class="p">(</span><span class="n">constant</span><span class="o">!</span><span class="p">)</span>
<span class="n">v</span> <span class="o">|-----+</span> <span class="o">-</span> <span class="o">-</span> <span class="o">+------|</span> <span class="n">v</span>
<span class="o">|</span> <span class="o">|</span>     <span class="p">.</span>     <span class="p">.</span>      <span class="o">|</span>
<span class="o">|</span> <span class="o">|</span>     <span class="p">.</span>     <span class="p">.</span>      <span class="o">|</span>
<span class="o">^</span> <span class="o">|-----+</span> <span class="o">-</span> <span class="o">-</span> <span class="o">+------|</span>
  <span class="o">|</span>  <span class="n">C</span>  <span class="o">|</span>     <span class="o">|</span>  <span class="n">D</span>   <span class="o">|</span>
  <span class="o">|</span>     <span class="o">|</span>     <span class="o">|</span>      <span class="o">|</span>
  <span class="o">+------------------+</span>
        <span class="o">&gt;-----&lt;</span>
    <span class="n">stretched</span> <span class="n">region</span>
</pre></div>
<p>To create a &quot;glass pill button&quot;, you should fill the rounded border into the regions A, B, C and D above, and supply the radius of that pill into both the leftCapWidth and topCapHeight.</p>
<p>Also, a stretchable image is not shrinkable. If you try to use stretchable images bigger than the buttons (or whatever else) you want to apply it to, they may be rendered incorrectly (especially on older iOSes).</p>
<p>引用 <a class="reference external" href="http://stackoverflow.com/questions/2924408/iphone-stretchableimagewithleftcapwidth-only-makes-ds">Stackoverflow</a></p>
</div>

                    </section>
                    <hr/>
                    <aside class="post-meta">
                        <p>Category: <a href="/category/ios.html">iOS</a></p>
                        <p>Tags: <a href="/tag/uiimage.html">UIImage</a>, <a href="/tag/ios.html">iOS</a>, </p>
                        <p>Copyright: <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh/">自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）</a></p>
                    </aside>
                    <hr/>
<div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'magsnote';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
                </article>
            </li>
        </ol>
    </div>
        </div>
<footer id="site-info">
    <p>
        Proudly powered by <a href="http://getpelican.com/" target="pelican">Pelican</a> and <a href="http://python.org/" target="python">Python</a>. Theme base on <a href="https://github.com/hdra/pelican-cait" target="github">hndr</a>.
    </p>
    <p>
        Textures by <a href="http://subtlepatterns.com/" target="subtlepatterns">Subtle Pattern</a>. Font Awesome by <a href="http://fortawesome.github.io/Font-Awesome/" target="github">Dave Grandy</a>.
    </p>
</footer>        <script src="/theme/js/main.js"></script>
    </body>
</html>